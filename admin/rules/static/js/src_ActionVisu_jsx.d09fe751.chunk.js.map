{"version":3,"file":"static/js/src_ActionVisu_jsx.d09fe751.chunk.js","mappings":"iLAAA,MAAMA,CAAa,CAEnB,CAEA,QAAeA,E,eCDf,MAAM,EAAe,OAAO,cAAgB,EAE5C,MAAMC,UAAmB,CAAa,CAClC,YAAYC,EAAO,CACf,MAAMA,EAAOD,EAAW,cAAc,CAAC,CAC3C,CAEA,OAAO,QAAQE,EAAQC,EAAS,CAC5B,IAAIC,GAAWF,EAAO,SAAW,IAAI,QAAQ,KAAM,KAAK,EACxD,OAAKE,EAIM,qBAAqBA,GAAW,IAAI,QAAQ,MAAO,GAAG,EAAE,QAAQ,MAAO,GAAG;AAAA,sBACrEF,EAAO,WAAWE,GAAW,IAAI,QAAQ,KAAM,KAAK,KAAK,EAAa,kBAAkBD,CAAO;AAAA,oBACjGD,EAAO,8BAA8BA,EAAO;AAAA,cAClDA,EAAO,+DAA+DA,EAAO,iBAAiBA,EAAO,OAAS,IAAI,QAAQ,KAAM,KAAK,iBAAiBA,EAAO,SAAW,SAAU,uBAAuB,UAAUA,EAAO,QAAU,IAAI,SAAS,EAAE,QAAQ,KAAM,KAAK,EAAG,EAAE,GAAK,WAN7Q;AAAA,kBACDA,EAAO,wCAOrB,CAEA,YAAYG,EAAc,CACtB,MAAO,GAAG,OAAK,EAAE,OAAO,KAAKA,EAAa,KAAK,SACnD,CAEA,YAAYC,EAAS,CACjB,KAAK,SAAS,CACV,OAAQ,CACJ,CACI,KAAM,WACN,WAAY,iBACZ,QAAS,MACT,aAAc,QACd,UAAW,WACf,EACA,CACI,KAAM,UACN,WAAY,mBACZ,aAAc,QACd,UAAW,GACX,UAAW,UACf,EACA,CACI,KAAM,QACN,UAAW,SACX,WAAY,aACZ,aAAc,OAClB,EACA,CACI,KAAM,SACN,UAAW,eACX,WAAY,aACZ,aAAc,MAClB,EACA,CACI,UAAW,WACX,WAAY,iBACZ,aAAc,GACd,KAAM,UACV,CACJ,CACJ,EAAG,IAAM,MAAM,YAAYA,CAAO,CAAC,CACvC,CAEA,OAAO,eAAgB,CACnB,MAAO,CACH,WAAY,UACZ,KAAM,gBACN,GAAI,aACJ,QAAS,MACT,MAAO,yBACP,WAAY,uGAChB,CACJ,CAEA,SAAU,CACN,OAAON,EAAW,cAAc,CACpC,CACJ,CAEA,QAAeA,C","sources":["GenericBlock.jsx","ActionVisu.jsx"],"sourcesContent":["class GenericBlock {\n\n}\n\nexport default GenericBlock;","import WidgetGenericBlock from './GenericBlock';\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nconst GenericBlock = window.GenericBlock || WidgetGenericBlock;\n\nclass ActionVisu extends GenericBlock {\n    constructor(props) {\n        super(props, ActionVisu.getStaticData());\n    }\n\n    static compile(config, context) {\n        let message = (config.message || '').replace(/\"/g, '\\\\\"');\n        if (!message) {\n            return `// no text defined\n_sendToFrontEnd(${config._id}, {message: 'No message defined'});`;\n        } else {\n            return `// ioBroker.visu ${(message || '').replace(/\\n/g, ' ').replace(/\\r/g, ' ')}\n\\t\\tconst subActionVar${config._id} = \"${(message || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {message: subActionVar${config._id}});\n\\t\\tsetState(\"${config.instance}.app.message\", JSON.stringify({message: subActionVar${config._id}, title: \"${(config.title || '').replace(/\"/g, '\\\\\"')}\", priority: ${config.priority ? '\"high\"': '\"normal\"'}, expire: ${parseInt((config.expire || '').toString().replace(/\"/g, '\\\\\"'), 10) || 3600}}));`;\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return `${I18n.t('Sent:')} ${debugMessage.data.message}`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    attr: 'instance',\n                    nameRender: 'renderInstance',\n                    adapter: 'iot',\n                    defaultValue: 'iot.0',\n                    frontText: 'Instance:',\n                },\n                {\n                    attr: 'message',\n                    nameRender: 'renderModalInput',\n                    defaultValue: 'Hallo',\n                    nameBlock: '',\n                    frontText: 'Message:',\n                },\n                {\n                    attr: 'title',\n                    frontText: 'Title:',\n                    nameRender: 'renderText',\n                    defaultValue: 'Title',\n                },\n                {\n                    attr: 'expire',\n                    frontText: 'Expire(sec):',\n                    nameRender: 'renderText',\n                    defaultValue: '3600',\n                },\n                {\n                    frontText: 'Priority',\n                    nameRender: 'renderCheckbox',\n                    defaultValue: false,\n                    attr: 'priority',\n                },\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'ioBroker.visu',\n            id: 'ActionVisu',\n            adapter: 'iot',\n            title: 'Sends to ioBroker.visu',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID',\n        };\n    }\n\n    getData() {\n        return ActionVisu.getStaticData();\n    }\n}\n\nexport default ActionVisu;\n"],"names":["GenericBlock","ActionVisu","props","config","context","message","debugMessage","tagCard"],"sourceRoot":""}